Course Processor Documentation - LaTeX Input Plugin
$Id$

Contact: chris@starforge.co.uk
Bugs: http://octette.cs.man.ac.uk/bugzilla/

1. Introduction

The LatexInputhandler plugin allows documents written in LaTeX to be processed
into the intermediate format the course processor uses to store course text
content between the input and output plugins. The LaTeX files must be 
constructed in a specific format in order to be processed into a course, this
document contains instructions for creating compatible LaTeX files and the
correct method for organising them in a way that the course processor can 
handle.

Note that, if the course processor is run on a course containing LaTeX files
and it reports that the LatexInputHandler can not be run on the course then
it means that the files have not been organised or named correctly and you
need to double-check them.

It should be noted that courses may consist of a mix of HTML and LaTeX files
quite safely, and the appropriate input plugins will be applied to the files
during processing.


2. File hierarchy layout

In order to be picked up by the course processor correctly, the coursedata
directory must contain LaTeX files organised in the following fashion. Note
that the actual file and directory names _are not_ important, with the
exception that LaTeX files must end .tex. Otherwise, the file and directory
names may be anything you chose - the layout of files and directories is the
important factor:

coursedata/
    latexintro.txt
    theme1/
        module1.tex
        module2.tex
    theme2/
        module1.tex
        module2.tex
        module3.tex
        module4.tex
    theme3/
        module1.tex
        module2.tex
        module3.tex

That is, each theme directory within the coursedata should contain one or
more LaTeX files, each of which corresponds directly to one module within
the theme (see html-output.txt for a detailed description of themes,
modules and so on). Note that there are additional restrictions on the 
contents of LaTeX files as described in the next section.


3. File contents

When composing LaTeX for use in the course processor, a number of rules must
be followed to ensure that the files are converted properly:

- Do not include any latex preamble/header information in the files. Any 
  directives you would normally place in the header should go in the 
  global latex header file described below.

- Do not include \begin or \end commands in your files - these will be added
  as part of the preprocessing the processor does on LaTeX files.

- Always use unnumbered \section* and \subsection* commands. Do not 
  include numbered versions as this may cause undesirable side effects.

- Each file must contain exactly one \section* command, no more, no less. One
  LaTeX section is treated as a single module. If you include more that one 
  \section* in a LaTeX file it _will_ break the processor. If you leave out
  the \section* command then the processor will attempt to recover from
  this but information may be lost.

- Each file must contain _at least_ one \subsection* command. Each subsection
  is treated as a step in the module. The processor will attempt to recover
  if there are no subsections present in the file (by, essentially, treating
  the entire thing as one subsection), but this may lead to unexpected
  formatting in the output.

- Any special packages used in your documents may be included in individual
  module files or the global latex header file described below.

- Each file will be processed through latex2html, so please ensure that
  your documents do not contain anything that breaks latex2html.

When authoring files in LaTeX you _must_ provide a file called latexintro.txt
in the coursedata directory. This file should contain the header that will be
applied to all of the LaTeX files processed by the LatexInputHandler, minimally
something along the lines of the following should be provided:

\documentclass[12pt]{article}
\usepackage{html}
\usepackage[dvips]{color}
\pagecolor{white}

If you are using custom templates then you may need to provide a different
pagecolor (as this is used to determine colours when generating images). There
are no restrictions placed on the LaTeX modules you may use by the course
processor (there may be by latex2html, however, and you should check that
latex2html will not fall over because of any modules you use). However, the
LatexInputHandler plugin has not (and probably can not) be tested with all 
possible combinations of LaTeX modules so there is the possibility of 
unforseen exothermic reactions during processing.


4. Special tags

LaTeX files may contain any of the special tags supported by the target
output handler (which means, at present, any of the special tags provided by
the HTMLOutputHandler described in html-output.txt). There are no special
tags provided by the LaTeX input handler itself. 


